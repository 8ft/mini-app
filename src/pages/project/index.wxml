<nav-bar title="巨牛汇" returnable="{{false}}" bindready="getNavHeight"></nav-bar>

<swiper id="banner" wx:if="{{banners}}" indicator-dots="true" indicator-color="rgba(255,255,255,.6)" indicator-active-color="#fff" autoplay="true" circular="true">
  <swiper-item wx:for="{{banners}}" wx:for-item="banner" data-obj="{{banner}}" bindtap='bannerJump'>
    <image src="{{banner.iconImageUrl}}"></image>
  </swiper-item>
</swiper>

<view class='types clearfix'>
  <navigator url='/packageProject/pages/list/index?type=-1' hover-class="none">
    <image mode="aspectFill" src="/assets/img/icon/xm@3x.png"></image>
    <text>项目</text>
  </navigator>
  <navigator url='/packageProject/pages/list/index?type=0' hover-class="none">
    <image mode="aspectFill" src="/assets/img/icon/bk@3x.png"></image>
    <text>博客</text>
  </navigator>
  <navigator url='/packageProject/pages/list/index?type=1' hover-class="none">
    <image mode="aspectFill" src="/assets/img/icon/wd@3x.png"></image>
    <text>问答</text>
  </navigator>
  <navigator url='/packageProject/pages/list/index?type=2' hover-class="none">
    <image mode="aspectFill" src="/assets/img/icon/rc@3x.png"></image>
    <text>人才库</text>
  </navigator>
  <navigator url='/packageProject/pages/list/index?type=3' hover-class="none">
    <image mode="aspectFill" src="/assets/img/icon/fw@3x.png"></image>
    <text>服务</text>
  </navigator>
</view>

<view class="part">
   <view class='title'>
    <text>博客</text>
    <navigator class='arrow-right' url="/packageBlog/pages/list/index?id=&index=0" hover-class="none">更多</navigator>
  </view>
</view>
<scroll-view class='blogs' scroll-x="true">
    <image wx:for="{{blogs}}" src="{{item.coverImage}}" data-obj="{{item}}" bindtap="bannerJump"></image>
</scroll-view>


<view id="projectTags" class="projectTags">
  <tabs under-line-ratio="{{.5}}" tabs="{{['全部','开放','设计','文案/运营','产品']}}" active="{{tabIndex}}" bindchange="tabChange"></tabs>
  <navigator class='arrow-right' url='/packageProject/pages/list/index' hover-class="none">更多</navigator>
</view>

<swiper bindchange="onSwiperChange" current="{{tabIndex}}" duration="300" style="height:{{swiperHeight}}px;">
  <swiper-item>
      <scroll-view 
        class='projects' 
        style="height:{{swiperHeight}}px" 
        scroll-y="{{unlockScroll}}" 
        bindscrolltolower="getBlogs"> 

        <block wx:if="{{projects.length>0}}">
          <project-card wx:for="{{projects}}" wx:for-item="project" project="{{project}}"></project-card>
        </block>
        <nodata wx:else="{{!loading}}"></nodata>

      </scroll-view>
    </swiper-item>
</swiper>